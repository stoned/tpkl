import "tpkl:tpkl"
tasks: tpkl.Tasks = new {
  // no cycle
  //
  //    A --> B
  //    |     ^
  //    v     |
  //    C ----+
  //    |
  //    v
  //    D
  ["A"] {
    cmds {
      new { task = "B" }
      new { cmd { "echo A" } }
      new { task = "C" }
    }
  }

  ["B"] {
    cmds {
      new { cmd { "echo B" } }
    }
  }

  ["C"] {
    cmds {
      new { task = "D" }
      new { cmd { "echo C" } }
      new { task = "B" }
    }
  }

  ["D"] {
    cmds {
      new { cmd { "echo D" } }
    }
  }
}
